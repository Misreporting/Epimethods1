<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Epidemiology Methods lecture notes - 17&nbsp; Case-control studies</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./summary.html" rel="next">
<link href="./chapt14.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Case-control studies</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Epidemiology Methods lecture notes</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Preface</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction: Types of studies</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chaptA.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Introduction to R</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapt1.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data displays</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapt2.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Identifying research questions and data sources</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapt3.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Testing hypotheses</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapt4.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Associations</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapt5.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Causality vs association</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapt6.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Excess risk</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapt7.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Measurement error and screening</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapt8.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Confounding and linear regression</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapt9.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Confounding and causal graphs</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapt10.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Ecological studies</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapt11.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Example data analysis in YRBS</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapt12.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Survey data analysis</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapt13.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Randomized experiments and quasi-experiments</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapt14.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Cohort studies</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapt15.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Case-control studies</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summary.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Summary</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#case-control-studies" id="toc-case-control-studies" class="nav-link active" data-scroll-target="#case-control-studies"><span class="toc-section-number">17.1</span>  Case-control studies</a></li>
  <li><a href="#nested-case-control-studies" id="toc-nested-case-control-studies" class="nav-link" data-scroll-target="#nested-case-control-studies"><span class="toc-section-number">17.2</span>  Nested case-control studies</a></li>
  <li><a href="#example-genome-wide-association-study-of-schizophrenia" id="toc-example-genome-wide-association-study-of-schizophrenia" class="nav-link" data-scroll-target="#example-genome-wide-association-study-of-schizophrenia"><span class="toc-section-number">17.3</span>  Example: Genome-wide association study of schizophrenia</a></li>
  <li><a href="#exercise" id="toc-exercise" class="nav-link" data-scroll-target="#exercise"><span class="toc-section-number">17.4</span>  Exercise</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Case-control studies</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>Schulz KF, Grimes DA, “Case-control studies: research in reverse.” Lancet. 2003; 359:431–4. Schulz KF, Grimes DA, “Compared to what? Finding controls for case-control studies.” Lancet. 2005; 365: 1429–33.</p>
<section id="case-control-studies" class="level2" data-number="17.1">
<h2 data-number="17.1" class="anchored" data-anchor-id="case-control-studies"><span class="header-section-number">17.1</span> Case-control studies</h2>
<p>As we discussed in the previous chapter, cohort studies group by exposure. Case-control studies group by outcome: cases have the outcome and controls lack the outcome. Usually this outcome is a disease, but this research design can be used for any outcome with the same advantages of any case-control study. For example, I wanted to evaluate health conditions associated with community college and 4 year college degree completion. Participants were grouped over outcome: college graduation because little was known about which health conditions are associated with graduation.</p>
<p>Case-control studies can be used to study outcomes that take a long time to emerge.</p>
<p>Advantages and disadvantages of case-control studies • More efficient for diseases with long latency periods: no need to wait a long time to find a case.</p>
<p>• More efficient for rare diseases. No need to screen many inidividuals to find a case.</p>
<p>• Less efficient for rare exposures: need to screen many individuals to find the exposure of interest. (“As a rule of thumb, cohort designs are more efficient in settings in which the incidence of outcome is higher than the prevalence of exposure.” — Lancet 2002)</p>
<p>• Some case-control studies attempt a fishing expedition: finding factors associated with a poorly understood disease or condition. In this case, need to be careful about multiple comparisons.</p>
<p>Case-control can mimic cohort study if populations drawn from same underlying population.</p>
<p>Genome-wide association studies (GWAS) identify genes associated with diseases.</p>
<p>Case-case or case-only studies: compare different variants of the same disease. Gillison et al, Evidence for a Causal Association Between Human Papillomavirus and a Subset of Head and Neck Cancers. Journal of the National Cancer Institute, Vol. 92, No.&nbsp;9, May 3, 2000</p>
</section>
<section id="nested-case-control-studies" class="level2" data-number="17.2">
<h2 data-number="17.2" class="anchored" data-anchor-id="nested-case-control-studies"><span class="header-section-number">17.2</span> Nested case-control studies</h2>
<p>In nested case-control studies, controls and cases are chosen from a cohort study or longitudinal dataset. This nested approach has several advantages. First, the data already exist, so all advantages of using secondary data apply to nested case-control studies: low cost, quick access, and high quality. Second, the data are longitudinal, allowing clear temporal ordering of events; longitudinal datasets can potentially cover long time periods, allowing evaluation of distal exposures, such as good information about family backgrounds, childhood, and adolescence. Tnird, the controls and cases were chosen from the same population and given the same survey instruments, biomarker tests, and other measurements.</p>
<p>However, the nested approach has disadvantages as well. First, the disadvantages of secondary data apply to nested case-control studies: the data may lack desired information relevant to the disease or outcome. Second, the disadvantages of long-term longitudinal studies may also apply: the baseline was designed so long ago that the measures of the earliest exposures may not follow the current conventions or they may not have collected measures we consider important now: these disadvantages apply for any study over a long time period and they are intrinsic to long-term longitudinal studies. Finally, if there is subjectivity in classifying participants’ outcomes, subjectivity could cause researchers to judge outcomes according to exposure status; in the case of most datasets that already exist, these subjective decisions do not occur.</p>
<p>For example, the National Longitudinal Study of Youth 1979 has followed people from adolescence through age 50 or older. These data were collected by the Bureau of Labor Statistics, which did not initially collect much health information, but later years included a great deal of health information.</p>
<p>Cautions that apply in all studies Make sure that population and sample are well-defined, uniform, and chosen ahead of time. While obvious, it’s easier said than done. Choosing cases As with cohort studies, choose incident (new) cases to be sure that diagnosis is uniform. Choosing controls Choose controls from the same population as cases. Controls represent people at risk of be- coming cases. • If controls and cases are chosen from different population, there’s a risk of selection bias. E.g., controls might not go to the same clinician if they got the disease. • Ideal to choose controls who have tested negative for the disease with the same provider as the cases have, so they are from the same population and have the same indications that lead the cases to get tested. Asymptomatic diseases are best because all cases will have been tested, and therefore from same population as controls who were also tested. • Can choose controls from same geographic area of the cases: e.g., physical neighbors, friends/relatives. Used to be able to identify controls from random-digit dialing in same geographic area, but less useful without landlines. • Hard to determine whether hospitals come from the same population as cases. Different departments/diseases within the same hospital may have different catchment areas. Choose controls independently of the exposure of interest. • Cases/controls should ideally be determined by people who do not know the subject’s exposure status, or who do not know the study’s hypothesis. • If cases are chosen after exposure is known, there is a risk of selective misclassification of cases. The clinician making diagnosis knows the participant’s exposure status and is more likely to diagnose the disease (e.g., aspirin and Reye’s syndrome.) • If controls have a disease that is also related to the exposure, bias towards the null. Determining exposure status • Questionnaires/interviews about past exposures: – Interviewers could bias the data collection if they are aware of the hypothesis or case/control status of participants. – Can use memory prompts such as pictures of all oral contraception brands and a blank calendar grid (Schulz and Grimes 2002). • Administrative records, lab records Rosenbaum 3 – Desired information not always available. • Some medical quantities do not change (e.g., blood type, lead in teeth), so can be measured at the time of the study. • Non-differential measurement error — i.e., measurement error that doesn’t vary between control and cases — does not introduce bias into the study. For instance, both cases and controls may have a hard time remembering the past exposures, but there is no difference in quality of memory between the cases and the controls. • Differential measurement error creates information bias, such as if cases remember expo- sures differently than controls do. Mothers of babies with birth defects may recall their exposure status differently than mothers of babies without birth defects.</p>
<p>Measuring outcomes Loss-to-follow-up does not bias results if it occurs non-differentially: in both exposed and unexposed groups. Loss-to-follow-up represents a bias when comparing a group with the general population, which does not have this attrition. Mortality can be observed from National Death Index. Scandinavia has a cancer registry, so can observe outcomes other than death for cancer patients, but other countries use death from cancer rather than other outcomes because that’s the data available to them.</p>
<p>Prevalence vs.&nbsp;Incidence Need to observe a group for a period of time to observe incidence. Prevelance is easier to measure: can measure in cross-sectional study, but may under-estimate prevalence of traits that could cause someone not to be in the sample. e.g., an impair- ment that would cause someone to terminate their employment.</p>
<p>Observing outcomes too soon after an exposure measurement can lead to reverse causality: e.g., colon cancer and cholesterol levels; brain tumors and anti-seizure medication.</p>
<p>Reducing confounding Studies use either matching or regression/stratification methods.</p>
<p>Examples • Why exactly would this situation pose a problem? Spell out the problem. Suppose investigators selected individuals with myocardial infarction from the cardiology ward of a large, city hospital as cases, but identified people without infarction from the emergency medicine ward of the same hospital as controls. Bias might result. The cardiology ward is used as a referral centre for the entire state, whereas the emergency medicine department primarily serves only the city. Unfortunately, the exposure history for patients from the city would not usually accurately reflect that of patients statewide. For example, the exposure of interest — eg, a new blood pressure drug — might not be available to patients in outlying areas of the state but be commonly prescribed in the city. (Schulz and Grimes 2002)</p>
<p>• Direction of bias = ? Assume that this new antihypertensive drug causes drowsiness and slows reac- tion time. Such side- effects might lead to automobile accidents, with injured drivers entering the emergency medicine department. Thus, the investigator’s control group would include an abnormally high proportion of individuals ex- posed to the new antihypertensive, a biased comparison with the case group. (Schulz and Grimes 2002)</p>
<p>• Direction of bias = ? a case-control study of whether non-steroidal anti-inflammatory drugs (NSAIDs) prevent colorectal cancer. The study measures previous NSAID use by patients admitted to hospital with (cases) and without (controls) colorectal cancer. If the control group came from the rheumatology service, then the study would be biased, since individuals with arthritis use NSAIDs more often than do the gen- eral population from which the cases were chosen. Such a high level of NSAID use in controls would result in a spuriously low risk (odds ratio) calculation. Al- ternatively, if the control group came from the gastroenterology service, where many ulcer patients had been advised by their doctors to avoid NSAIDs, then that control group might yield a low level of NSAID use and a spuriously high risk (odds ratio) calculation. (Schulz and Grimes 2002)</p>
<p>• Direction of bias = ? the researchers compared cases of AIDS diagnosed in San Francisco, CA, USA, between 1983 and 1984 with two HIV-uninfected control groups. One control group included individuals who attended a clinic for sexually transmitted dis- eases (STD), and the other included people identified from the neighbourhoods of the cases. The investigators compared the risk of AIDS in individuals with more than 100 sexual partners with that in people with no to five sexual part- ners. The resulting odds ratios were 2.9 with STD clinic controls, but 52.0 with neighbourhood controls. The magnitude of this difference shows the potential for huge biases due to selection of improper control groups. In this study, con- trols from the STD clinic proved inappropriate, since their selection was not independent of exposure (more than 100 sexual partners). Acquisition of STDs is associated with number of sexual partners, thus these controls generated a highly biased odds ratio estimate. (Schulz and Grimes 2002)</p>
<p>• Direction of bias = ? In a Swedish study, investigators examined the potential link between induced abortion and later development of breast cancer. They gathered information about exposure (previous abortion) from cases and controls by means of per- sonal interviews and by looking through national medical records. When interviewed, fewer controls admitted to having had an abortion than was evident in vital statistics. This discrepancy did not arise among cases. (Schulz and Grimes 2002)</p>
</section>
<section id="example-genome-wide-association-study-of-schizophrenia" class="level2" data-number="17.3">
<h2 data-number="17.3" class="anchored" data-anchor-id="example-genome-wide-association-study-of-schizophrenia"><span class="header-section-number">17.3</span> Example: Genome-wide association study of schizophrenia</h2>
<p>The Schizophrenia Working Group of the Psychiatric Genomics Consortium published a paper in Nature identifying 108 genes associated with schizophrenia in a case-control study of 36,989 cases and 113,075 controls. The author list filled a full column of text from 208 instutional affiliations. Despite being an intensive genetics research project, it has elements common to epidemiologic studies: they created an index of risk called the risk profile score, estimated odds ratio of schizophrenia for each level of predicted risk, and estimated the predictive power of the risk profile score (area under the curve).</p>
</section>
<section id="exercise" class="level2" data-number="17.4">
<h2 data-number="17.4" class="anchored" data-anchor-id="exercise"><span class="header-section-number">17.4</span> Exercise</h2>
<p>Exercise: Concussion in Adolescence and Risk of Multiple Scle- rosis Montgomery S, Hiyoshi A, Burkill S, Alfredsson, L, Bahmanyar S, Olsson T. Concussion in Adolescence and Risk of Multiple Sclerosis. Annals of Neurology. 2017;82:554561</p>
<ol type="1">
<li><p>The study never says what kind of study design they use. What kind of study is this? How can you tell?</p></li>
<li><p>Why did the authors choose that type of study design?</p></li>
<li><p>The authors used prospectively recorded data in their study. What issue have the re- searchers avoided by using prospectively recorded data? Why might that issue normally affect the study design? Given that they are using prospectively recorded data, what is the more specific name of the type of study design?</p></li>
<li><p>The researchers only included individuals who were diagnosed with multiple sclerosis (MS) while currently resident in Sweden. Why is that?</p></li>
<li><p>The researchers adjusted for broken limb bones in childhood (ages 0–10 years) and adoles- cents (ages 11-20 years). What concern were they addressing by paying special attention to broken bones?</p></li>
<li><p>The researchers matched each of the individuals diagnosed with multiple sclerosis (MS) with 10 people without MS by age, sex, region, and age/vital status at MS diagnosis.</p></li>
</ol>
<ol type="a">
<li><p>Why may the researchers have chosen to match on these factors?</p></li>
<li><p>Does matching on these factors reduce potential confounding significantly, or might confounding remain?</p></li>
<li><p>Why might the researchers have chosen to match 10 controls to each case, as opposed to a smaller number?</p></li>
</ol>
<ol start="7" type="1">
<li><p>What is the advantage for the study that concussions were measured in adolescence, as opposed to a later period?</p></li>
<li><p>What evidence is presented that is consistent with the hypothesis that concussions in adolescents increase the risk of multiple sclerosis?</p></li>
</ol>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./chapt14.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Cohort studies</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./summary.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Summary</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>